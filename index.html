<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Aurion Intro – Touch Start</title>

<style>
  body {
    margin:0;
    background:#030305;
    overflow:hidden;
    font-family: "Segoe UI", system-ui, Arial;
  }

  /* Layer Hints */
  #tapStart {
    position:fixed;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    color:#cde8ff;
    font-size:22px;
    background:rgba(0,0,0,0.7);
    z-index:10;
  }

  #titleBox {
    position:fixed;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    pointer-events:none;
    z-index:5;
    opacity:0;
    transition:opacity 1.2s ease;
  }

  #title {
    color:#aee6ff;
    font-size:clamp(28px, 6vw, 64px);
    letter-spacing:0.12em;
    text-transform:uppercase;
    text-decoration:none;
  }

  #subtitle {
    margin-top:8px;
    color:rgba(174,230,255,0.85);
    font-size:clamp(12px,1.6vw,18px);
  }

  canvas {
    position:fixed;
    inset:0;
    z-index:1;
    pointer-events:none;
  }
</style>
</head>

<body>

<!-- Sound-Prompt -->
<div id="tapStart">Tippe zum Starten</div>

<!-- Canvas für Spinnweben -->
<canvas id="webCanvas"></canvas>

<!-- Titel (erscheint nach Burst) -->
<div id="titleBox">
  <a id="title" href="Aurion_Portal.html">AURION BITTET UM AUDIENCE</a>
  <div id="subtitle">Ein Raum öffnet sich — bleibe ruhig und atme mit.</div>
</div>

<script>
/* -------------------------
   SOUND SETUP (Android OK)
--------------------------- */
const audio = new Audio("sound.mp3");  // ← Deine Datei im gleichen Ordner
audio.preload = "auto";
audio.volume = 1.0;

let audioStarted = false;
const tapLayer = document.getElementById("tapStart");

tapLayer.addEventListener("click", () => {
  if (!audioStarted) {
    audio.play().catch(e => console.log("Autoplay blockiert:", e));
    audioStarted = true;
  }
  tapLayer.style.display = "none"; // Intro freigeben
  startAnimation();
});

/* -------------------------
   CANVAS SETUP
--------------------------- */
const canvas = document.getElementById("webCanvas");
const ctx = canvas.getContext("2d");
let W = canvas.width = innerWidth;
let H = canvas.height = innerHeight;

window.addEventListener("resize", () => {
  W = canvas.width = innerWidth;
  H = canvas.height = innerHeight;
});

/* LEICHTE, einfache Web-Animation (für mobile stabil) */
let particles = [];
const colors = ["#9fcfff","#7abaff","#5fa7ff","#8dd0ff"];

function addWebBurst() {
  for (let i = 0; i < 180; i++) {
    const ang = Math.random() * Math.PI * 2;
    const sp = Math.random() * 3 + 1;
    particles.push({
      x: W/2,
      y: H/2,
      vx: Math.cos(ang)*sp,
      vy: Math.sin(ang)*sp,
      life: Math.random()*900 + 400,
      born: performance.now(),
      color: colors[Math.floor(Math.random()*colors.length)],
      size: Math.random()*2.5+1
    });
  }
}

function draw() {
  ctx.clearRect(0,0,W,H);

  let now = performance.now();
  for (let i = particles.length - 1; i >= 0; i--) {
    let p = particles[i];
    let age = now - p.born;
    if (age > p.life) {
      particles.splice(i,1);
      continue;
    }
    let t = 1 - age / p.life;
    p.x += p.vx*0.98;
    p.y += p.vy*0.98;
    ctx.globalAlpha = t;
    ctx.fillStyle = p.color;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
    ctx.fill();
  }

  requestAnimationFrame(draw);
}

/* -------------------------
   STARTSEQUENZ
--------------------------- */
function startAnimation() {
  draw();

  // kleiner Delay, dann Web-Burst
  setTimeout(() => {
    addWebBurst();
    revealTitle();
  }, 800);

  // Automatische Weiterleitung nach 10 Sekunden
  setTimeout(() => {
    window.location.href = "Aurion_Portal.html";
  }, 10000); // 10 Sekunden
}

function revealTitle() {
  document.getElementById("titleBox").style.opacity = 1;
}
</script>
</body>
</html>